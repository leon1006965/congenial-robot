<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LeonCord</title>
<style>
    * { box-sizing: border-box; }
    body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background: #202225;
        color: #fff;
        height: 100vh;
        display: flex;
    }

    /* SERVER BAR */
    .servers {
        width: 80px;
        background: #202225;
        padding: 10px 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
        border-right: 1px solid #18191c;
    }
    .server-icon {
        width: 52px;
        height: 52px;
        border-radius: 50%;
        overflow: hidden;
        cursor: pointer;
        border: 3px solid transparent;
        transition: 0.15s;
        background: #2f3136;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .server-icon img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .server-icon.active {
        border-color: #5865f2;
        border-radius: 18px;
    }
    .server-separator {
        width: 32px;
        height: 2px;
        background: #3a3c43;
        margin: 4px 0;
        border-radius: 999px;
    }

    /* MAIN LAYOUT */
    .main {
        flex: 1;
        display: flex;
        background: #2f3136;
    }

    /* CHANNELS */
    .channels {
        width: 260px;
        background: #2f3136;
        border-right: 1px solid #18191c;
        display: flex;
        flex-direction: column;
    }

    .server-header {
        position: relative;
        padding: 12px;
        border-bottom: 1px solid #18191c;
        background: #2f3136;
    }
    .server-banner {
        width: 100%;
        height: 90px;
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 8px;
    }
    .server-banner img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .server-title-row {
        display: flex;
        align-items: center;
        gap: 6px;
    }
    .server-name {
        font-weight: 600;
        font-size: 15px;
    }
    .verified-icon {
        width: 16px;
        height: 16px;
    }

    .channel-list {
        padding: 8px;
        display: flex;
        flex-direction: column;
        gap: 4px;
    }
    .channel {
        padding: 6px 10px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        color: #b9bbbe;
        display: flex;
        align-items: center;
        gap: 6px;
    }
    .channel span.hash {
        color: #72767d;
    }
    .channel.active {
        background: #40444b;
        color: #fff;
    }
    .channel:hover {
        background: #34373c;
    }

    /* CHAT AREA */
    .chat {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: #36393f;
    }

    .chat-header {
        height: 48px;
        border-bottom: 1px solid #202225;
        display: flex;
        align-items: center;
        padding: 0 16px;
        gap: 8px;
        font-size: 15px;
    }
    .chat-header .hash {
        color: #72767d;
    }

    .messages {
        flex: 1;
        padding: 16px;
        overflow-y: auto;
        font-size: 14px;
    }
    .message {
        margin-bottom: 10px;
    }
    .message-header {
        display: flex;
        align-items: center;
        gap: 6px;
        margin-bottom: 2px;
    }
    .message-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        overflow: hidden;
        margin-right: 8px;
        flex-shrink: 0;
        background: #202225;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
    }
    .message-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .message-username {
        font-weight: 600;
    }
    .message-tags {
        font-size: 11px;
        color: #b9bbbe;
    }
    .message-text {
        margin-left: 40px;
        color: #dcddde;
    }

    .input-bar {
        padding: 12px 16px;
        border-top: 1px solid #202225;
        background: #40444b;
        display: flex;
        gap: 10px;
    }
    .input-bar input {
        flex: 1;
        padding: 10px 12px;
        border-radius: 8px;
        border: none;
        outline: none;
        background: #303339;
        color: #fff;
        font-size: 14px;
    }
    .input-bar button {
        padding: 0 18px;
        border-radius: 8px;
        border: none;
        background: #5865f2;
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        font-size: 14px;
    }
    .input-bar button:hover {
        background: #4752c4;
    }

    /* PROFILE SETUP OVERLAY */
    .overlay {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
    }
    .overlay-card {
        width: 420px;
        max-width: 90vw;
        background: #2f3136;
        border-radius: 12px;
        padding: 18px 20px 16px;
        box-shadow: 0 12px 30px rgba(0,0,0,0.4);
    }
    .overlay-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 10px;
    }
    .overlay-section {
        margin-bottom: 12px;
        font-size: 13px;
    }
    .overlay-section label {
        display: block;
        margin-bottom: 4px;
        color: #b9bbbe;
    }
    .overlay-section input[type="text"] {
        width: 100%;
        padding: 8px 10px;
        border-radius: 6px;
        border: none;
        outline: none;
        background: #202225;
        color: #fff;
        font-size: 14px;
    }
    .tag-options {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
    }
    .tag-pill {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 4px 8px;
        border-radius: 999px;
        background: #202225;
        cursor: pointer;
        font-size: 12px;
    }
    .tag-pill input {
        margin: 0;
    }

    .avatar-options {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
    }
    .avatar-option {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        overflow: hidden;
        border: 2px solid transparent;
        cursor: pointer;
        background: #202225;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .avatar-option img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .avatar-option.selected {
        border-color: #5865f2;
    }
    .avatar-blank {
        font-size: 20px;
        color: #72767d;
    }

    .overlay-actions {
        display: flex;
        justify-content: flex-end;
        margin-top: 6px;
    }
    .overlay-actions button {
        padding: 6px 14px;
        border-radius: 6px;
        border: none;
        background: #5865f2;
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        font-size: 13px;
    }
    .overlay-actions button:disabled {
        opacity: 0.5;
        cursor: default;
    }
</style>
</head>
<body>

<!-- SERVER BAR -->
<div class="servers">
    <div class="server-icon active" data-server="leon">
        <img src="https://yt3.googleusercontent.com/3v1udmdlcCEtP13ti_wDRuS8Mi0X9Fo7Wb17f0ewh2H58nlgof3waSp47u_1mAolRC7XHkNbViM=s72-c-k-c0x00ffffff-no-rj" alt="Leon">
    </div>
    <div class="server-icon" data-server="pirated">
        <img src="https://cdn.discordapp.com/attachments/1472331197865656504/1472335387002273933/Pirated301.png?ex=699232ae&is=6990e12e&hm=8b50f0bdeae7d3050451c2353e676354363f515ace8f9cad6357ed13adffeaf0" alt="Pirated301">
    </div>
    <div class="server-icon" data-server="jullian">
        <img src="https://cdn.discordapp.com/attachments/1372285420150460509/1471585740923207793/8803DC9B-AFA7-42A0-BD48-907C906E766F.png?ex=69921b85&is=6990ca05&hm=da34c48e080953396618f7d74d479f3b0afbb5375880a696b2ec63e178d70b26&" alt="Jullian">
    </div>
    <div class="server-separator"></div>
</div>

<div class="main">
    <!-- CHANNELS -->
    <div class="channels">
        <div class="server-header" id="serverHeader">
            <!-- Filled by JS -->
        </div>
        <div class="channel-list" id="channelList">
            <!-- Channels -->
        </div>
    </div>

    <!-- CHAT -->
    <div class="chat">
        <div class="chat-header" id="chatHeader">
            <span class="hash">#</span><span id="chatChannelName">general</span>
        </div>
        <div class="messages" id="messages">
            <!-- Messages go here -->
        </div>
        <div class="input-bar">
            <input id="msgInput" type="text" placeholder="Message #general" autocomplete="off">
            <button id="sendBtn">Send</button>
        </div>
    </div>
</div>

<!-- PROFILE SETUP OVERLAY -->
<div class="overlay" id="profileOverlay">
    <div class="overlay-card">
        <div class="overlay-title">Set up your temporary profile</div>

        <div class="overlay-section">
            <label for="usernameInput">Username</label>
            <input id="usernameInput" type="text" placeholder="Leon">
        </div>

        <div class="overlay-section">
            <label>Server tags (choose one or more)</label>
            <div class="tag-options">
                <label class="tag-pill">
                    <input type="checkbox" value="HUAWEI" class="tag-checkbox"> HUAWEI
                </label>
                <label class="tag-pill">
                    <input type="checkbox" value="SPRUNKI" class="tag-checkbox"> SPRUNKI
                </label>
                <label class="tag-pill">
                    <input type="checkbox" value="MI GATITO" class="tag-checkbox"> MI GATITO
                </label>
            </div>
        </div>

        <div class="overlay-section">
            <label>Profile picture</label>
            <div class="avatar-options" id="avatarOptions">
                <div class="avatar-option selected" data-avatar="blank">
                    <div class="avatar-blank">?</div>
                </div>
                <div class="avatar-option" data-avatar="leon">
                    <img src="https://yt3.googleusercontent.com/3v1udmdlcCEtP13ti_wDRuS8Mi0X9Fo7Wb17f0ewh2H58nlgof3waSp47u_1mAolRC7XHkNbViM=s72-c-k-c0x00ffffff-no-rj">
                </div>
                <div class="avatar-option" data-avatar="pirated">
                    <img src="https://cdn.discordapp.com/attachments/1472331197865656504/1472335387002273933/Pirated301.png?ex=699232ae&is=6990e12e&hm=8b50f0bdeae7d3050451c2353e676354363f515ace8f9cad6357ed13adffeaf0">
                </div>
                <div class="avatar-option" data-avatar="jullian">
                    <img src="https://cdn.discordapp.com/attachments/1372285420150460509/1471585740923207793/8803DC9B-AFA7-42A0-BD48-907C906E766F.png?ex=69921b85&is=6990ca05&hm=da34c48e080953396618f7d74d479f3b0afbb5375880a696b2ec63e178d70b26&">
                </div>
            </div>
        </div>

        <div class="overlay-actions">
            <button id="profileContinue">Continue</button>
        </div>
    </div>
</div>

<script>
    // --- DATA ---
    const servers = {
        leon: {
            id: "leon",
            name: "Leon's Server",
            verified: true,
            banner: "https://yt3.googleusercontent.com/JuZXF0T4vK11D4zcZFw1wKMpaknhUeUfalbVyoEvPq0W5IeW28ry12LRzGA4WK4eRSBGYqMmJQ=w1707-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj",
        },
        pirated: {
            id: "pirated",
            name: "Pirated301",
            verified: false,
            banner: null
        },
        jullian: {
            id: "jullian",
            name: "Jullian's Server",
            verified: false,
            banner: null
        }
    };

    const verifiedIconUrl = "https://cdn-icons-png.flaticon.com/512/6928/6928921.png";

    const channels = [
        { id: "general", name: "General" },
        { id: "announcements", name: "Announcements" }
    ];

    let currentServerId = "leon";
    let currentChannelId = "general";

    // Temporary profile (not persisted)
    let profile = {
        username: "",
        tags: [],
        avatarType: "blank", // blank | leon | pirated | jullian
    };

    // In-memory messages: { [serverId_channelId]: [ {username, tags, avatarType, text} ] }
    const messagesStore = {};

    // --- UI INIT ---
    const serverHeaderEl = document.getElementById("serverHeader");
    const channelListEl = document.getElementById("channelList");
    const chatHeaderChannelNameEl = document.getElementById("chatChannelName");
    const messagesEl = document.getElementById("messages");
    const msgInputEl = document.getElementById("msgInput");

    function renderServerHeader() {
        const s = servers[currentServerId];
        let html = "";

        if (s.banner) {
            html += `
                <div class="server-banner">
                    <img src="${s.banner}" alt="${s.name} banner">
                </div>
            `;
        }

        html += `<div class="server-title-row">
                    <div class="server-name">${s.name}</div>
                    ${s.verified ? `<img class="verified-icon" src="${verifiedIconUrl}" alt="verified">` : ""}
                 </div>`;

        serverHeaderEl.innerHTML = html;
    }

    function renderChannels() {
        channelListEl.innerHTML = "";
        channels.forEach(ch => {
            const div = document.createElement("div");
            div.className = "channel" + (ch.id === currentChannelId ? " active" : "");
            div.dataset.channel = ch.id;
            div.innerHTML = `<span class="hash">#</span> ${ch.name}`;
            div.addEventListener("click", () => {
                currentChannelId = ch.id;
                updateChannelUI();
            });
            channelListEl.appendChild(div);
        });
    }

    function updateChannelUI() {
        document.querySelectorAll(".channel").forEach(el => {
            el.classList.toggle("active", el.dataset.channel === currentChannelId);
        });
        chatHeaderChannelNameEl.textContent = currentChannelId === "general" ? "general" : "announcements";
        msgInputEl.placeholder = "Message #" + (currentChannelId === "general" ? "general" : "announcements");
        renderMessages();
    }

    function getMessageKey() {
        return currentServerId + "_" + currentChannelId;
    }

    function renderMessages() {
        const key = getMessageKey();
        const msgs = messagesStore[key] || [];
        messagesEl.innerHTML = "";

        msgs.forEach(m => {
            const wrapper = document.createElement("div");
            wrapper.className = "message";

            const avatarDiv = document.createElement("div");
            avatarDiv.className = "message-avatar";

            if (m.avatarType === "blank") {
                avatarDiv.textContent = m.username.charAt(0).toUpperCase();
            } else {
                const img = document.createElement("img");
                img.src = getAvatarUrl(m.avatarType);
                avatarDiv.appendChild(img);
            }

            const headerDiv = document.createElement("div");
            headerDiv.className = "message-header";

            const usernameSpan = document.createElement("span");
            usernameSpan.className = "message-username";
            usernameSpan.textContent = m.username;

            const tagsSpan = document.createElement("span");
            tagsSpan.className = "message-tags";
            if (m.tags && m.tags.length > 0) {
                tagsSpan.textContent = "â€¢ " + m.tags.join(" | ");
            }

            headerDiv.appendChild(usernameSpan);
            if (m.tags && m.tags.length > 0) headerDiv.appendChild(tagsSpan);

            const textDiv = document.createElement("div");
            textDiv.className = "message-text";
            textDiv.textContent = m.text;

            const row = document.createElement("div");
            row.style.display = "flex";
            row.appendChild(avatarDiv);

            const contentCol = document.createElement("div");
            contentCol.style.flex = "1";
            contentCol.appendChild(headerDiv);
            contentCol.appendChild(textDiv);

            row.appendChild(contentCol);
            wrapper.appendChild(row);
            messagesEl.appendChild(wrapper);
        });

        messagesEl.scrollTop = messagesEl.scrollHeight;
    }

    function getAvatarUrl(type) {
        if (type === "leon") {
            return "https://yt3.googleusercontent.com/3v1udmdlcCEtP13ti_wDRuS8Mi0X9Fo7Wb17f0ewh2H58nlgof3waSp47u_1mAolRC7XHkNbViM=s72-c-k-c0x00ffffff-no-rj";
        }
        if (type === "pirated") {
            return "https://cdn.discordapp.com/attachments/1472331197865656504/1472335387002273933/Pirated301.png?ex=699232ae&is=6990e12e&hm=8b50f0bdeae7d3050451c2353e676354363f515ace8f9cad6357ed13adffeaf0";
        }
        if (type === "jullian") {
            return "https://cdn.discordapp.com/attachments/1372285420150460509/1471585740923207793/8803DC9B-AFA7-42A0-BD48-907C906E766F.png?ex=69921b85&is=6990ca05&hm=da34c48e080953396618f7d74d479f3b0afbb5375880a696b2ec63e178d70b26&";
        }
        return "";
    }

    // --- SERVER SWITCHING ---
    document.querySelectorAll(".server-icon").forEach(icon => {
        icon.addEventListener("click", () => {
            document.querySelectorAll(".server-icon").forEach(i => i.classList.remove("active"));
            icon.classList.add("active");
            currentServerId = icon.dataset.server;
            renderServerHeader();
            renderChannels();
            updateChannelUI();
        });
    });

    // --- SENDING MESSAGES ---
    function sendMessage() {
        const text = msgInputEl.value.trim();
        if (!text) return;
        if (!profile.username) return; // should be set

        const key = getMessageKey();
        if (!messagesStore[key]) messagesStore[key] = [];
        messagesStore[key].push({
            username: profile.username,
            tags: profile.tags.slice(),
            avatarType: profile.avatarType,
            text
        });
        msgInputEl.value = "";
        renderMessages();
    }

    document.getElementById("sendBtn").addEventListener("click", sendMessage);
    msgInputEl.addEventListener("keydown", e => {
        if (e.key === "Enter") {
            e.preventDefault();
            sendMessage();
        }
    });

    // --- PROFILE OVERLAY LOGIC ---
    const overlayEl = document.getElementById("profileOverlay");
    const usernameInputEl = document.getElementById("usernameInput");
    const profileContinueBtn = document.getElementById("profileContinue");

    // avatar selection
    document.getElementById("avatarOptions").addEventListener("click", e => {
        const option = e.target.closest(".avatar-option");
        if (!option) return;
        document.querySelectorAll(".avatar-option").forEach(o => o.classList.remove("selected"));
        option.classList.add("selected");
        profile.avatarType = option.dataset.avatar;
    });

    profileContinueBtn.addEventListener("click", () => {
        const username = usernameInputEl.value.trim();
        if (!username) return;

        const tags = [];
        document.querySelectorAll(".tag-checkbox").forEach(cb => {
            if (cb.checked) tags.push(cb.value);
        });

        profile.username = username;
        profile.tags = tags;

        overlayEl.style.display = "none";
        usernameInputEl.value = "";
    });

    // --- INITIAL RENDER ---
    renderServerHeader();
    renderChannels();
    updateChannelUI();
</script>
</body>
</html>
